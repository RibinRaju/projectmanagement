<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="ISO-8859-1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <h1>Create Project</h1>
        <form th:action="@{/save}" method="post">
            <div class="mb-3">
                <label for="projectTitle" class="form-label">Project Title</label>
                <input type="text" class="form-control" id="projectTitle" name="title" required>
            </div>
            <!-- Add todos -->
            <div id="todosContainer">
                <div class="todo-item mb-3">
                    <label for="todoDescription" class="form-label">Todo Description</label>
                    <input type="text" class="form-control" name="todos[0].description" required>
                    <label for="todoStatus" class="form-label">Status</label>
                    <select class="form-select" name="todos[0].status">
                        <option value="false">Pending</option>
                        <option value="true">Complete</option>
                    </select>
                </div>
            </div>
            <button type="button" class="btn btn-secondary" onclick="addTodo()">Add Another Todo</button>
            <button type="submit" class="btn btn-primary">Create Project</button>
        </form>
    </div>

    <script>
        let todoCount = 1;
        function addTodo() {
            const container = document.getElementById('todosContainer');
            const newTodo = document.createElement('div');
            newTodo.classList.add('todo-item', 'mb-3');
            newTodo.innerHTML = `
                <label for="todoDescription${todoCount}" class="form-label">Todo Description</label>
                <input type="text" class="form-control" name="todos[${todoCount}].description" required>
                <label for="todoStatus${todoCount}" class="form-label">Status</label>
                <select class="form-select" name="todos[${todoCount}].status">
                    <option value="false">Pending</option>
                    <option value="true">Complete</option>
                </select>
            `;
            container.appendChild(newTodo);
            todoCount++;
        }
    </script>
</body>
</html>
